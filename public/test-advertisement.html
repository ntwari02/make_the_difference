<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Advertisement</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              100: '#BFDBFE',
              200: '#93C5FD',
              300: '#60A5FA',
              400: '#3B82F6',
              500: '#2563EB',
              600: '#1D4ED8',
              700: '#1E40AF',
              800: '#1E3A8A',
              900: '#172554',
            },
          },
          fontFamily: {
            'raleway': ['Raleway', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="font-raleway bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
  <div class="min-h-screen flex items-center justify-center">
    <div class="text-center">
      <h1 class="text-4xl font-bold mb-4">Advertisement Test Page</h1>
      <p class="text-lg mb-8">This page will show an advertisement when loaded.</p>
      
             <div class="space-y-4">
         <button onclick="clearSession()" class="bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-all duration-300">
           Clear Session (Show Ad Again)
         </button>
         
         <button onclick="testAdAPI()" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-all duration-300">
           Test API
         </button>
         
         <button onclick="forceShowAd()" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-all duration-300">
           Force Show Ad (Test)
         </button>
       </div>
      
      <div id="api-result" class="mt-8 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg text-left max-w-2xl mx-auto hidden">
        <h3 class="font-semibold mb-2">API Response:</h3>
        <pre id="api-content" class="text-sm overflow-auto"></pre>
      </div>
    </div>
  </div>

  <script src="js/advertisement-config.js"></script>
  <script src="js/advertisement.js"></script>
  <script>
         function clearSession() {
       sessionStorage.removeItem(window.AdvertisementConfig?.LAST_AD_TIME_KEY || 'lastAdTime');
       location.reload();
     }
    
         async function testAdAPI() {
       try {
         const response = await fetch('/api/advertisements/active');
         const data = await response.json();
         
         document.getElementById('api-result').classList.remove('hidden');
         document.getElementById('api-content').textContent = JSON.stringify(data, null, 2);
       } catch (error) {
         document.getElementById('api-result').classList.remove('hidden');
         document.getElementById('api-content').textContent = 'Error: ' + error.message;
       }
     }
     
     function forceShowAd() {
       // Clear the last ad time to force showing an ad
       sessionStorage.removeItem(window.AdvertisementConfig?.LAST_AD_TIME_KEY || 'lastAdTime');
       location.reload();
     }
  </script>
</body>
</html>
